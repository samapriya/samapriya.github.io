
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Description of current projects on Github and updates">
      
      
        <link rel="canonical" href="https://github.com/samapriya/projects/slack_notifier_cli_addon/">
      
      
        <meta name="author" content="Samapriya Roy">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.8.0">
    
    
      
        <title>Slack Notifier CLI Addon - Samapriya Roy</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-bfecc7305d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-02c2a4388f.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="https://github.com/samapriya" title="Samapriya Roy" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Projects
                </span>
              
            
            Slack Notifier CLI Addon
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/samapriya" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Github Samapriya
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Samapriya Roy
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/samapriya" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Github Samapriya
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../aboutme/" title="About me" class="md-nav__link">
      About me
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cv/" title="Current CV" class="md-nav__link">
      Current CV
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Projects
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Projects
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../clip_ship_planet_cli/" title="Clip Ship Planet CLI" class="md-nav__link">
      Clip Ship Planet CLI
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Slack Notifier CLI Addon
      </label>
    
    <a href="./" title="Slack Notifier CLI Addon" class="md-nav__link md-nav__link--active">
      Slack Notifier CLI Addon
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" title="Table of contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#slack-credential" title="Slack Credential" class="md-nav__link">
    Slack Credential
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-bot-credential" title="Slack-Bot Credential" class="md-nav__link">
    Slack-Bot Credential
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-messages" title="Slack Messages" class="md-nav__link">
    Slack Messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-message-with-attachment" title="Slack Message with Attachment" class="md-nav__link">
    Slack Message with Attachment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-delete-all" title="Slack Delete All" class="md-nav__link">
    Slack Delete All
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../planet_pipeline_gui/" title="Planet Bulk Data Downloader GUI" class="md-nav__link">
      Planet Bulk Data Downloader GUI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gee_asset_manager_addon/" title="Google Earth Engine Asset Manager Addon" class="md-nav__link">
      Google Earth Engine Asset Manager Addon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../planet_gee_pipeline_cli/" title="Planet-Google Earth Engine Pipeline CLI" class="md-nav__link">
      Planet-Google Earth Engine Pipeline CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../planet_gee_pipeline_gui/" title="Planet-Google Earth Engine Pipeline GUI" class="md-nav__link">
      Planet-Google Earth Engine Pipeline GUI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../arcmap_addon/" title="ArcMap Addon Tools" class="md-nav__link">
      ArcMap Addon Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../synthetic_models/" title="Synthetic Landscape Generation Models" class="md-nav__link">
      Synthetic Landscape Generation Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../arcticdem_download/" title="ArcticDEM-Batch-Pipeline" class="md-nav__link">
      ArcticDEM-Batch-Pipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jetstream_unofficial_cli/" title="Jetstream Unofficial Addon" class="md-nav__link">
      Jetstream Unofficial Addon
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../release-notes/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../credits/" title="Credits" class="md-nav__link">
      Credits
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" title="Table of contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#slack-credential" title="Slack Credential" class="md-nav__link">
    Slack Credential
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-bot-credential" title="Slack-Bot Credential" class="md-nav__link">
    Slack-Bot Credential
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-messages" title="Slack Messages" class="md-nav__link">
    Slack Messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-message-with-attachment" title="Slack Message with Attachment" class="md-nav__link">
    Slack Message with Attachment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slack-delete-all" title="Slack Delete All" class="md-nav__link">
    Slack Delete All
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="slack-notifier-cli-addon">Slack Notifier-CLI Addon</h1>
<p><a href="https://zenodo.org/badge/latestdoi/102524939"><img alt="DOI" src="https://zenodo.org/badge/102524939.svg" /></a></p>
<p>For those working with team collaborations and notifications slack is a quick alternative to group emails and chats. The need for a notification tool was also met with the use of the API which could be neatly tied up in clients. This CLI add-on was developed simply to function as an additional tool which can reside in an application folder and which can be called upon within a program and act as a notifier for events and updates. The tool combines simple methods in building channels and application bots and uses backends to send messages, files and to handle message history. The notifier was based on a comparison between available methods in tools such as pushbullet, pushover among a few for being able to have cross platform compatibility. Though this was designed as a means for getting process update for specific tools this CLI is essentially a plug and play into any system which can talk and pass arguments to this tool. In time additional and more refined implementation control might be included to handle specific functions.</p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#getting-started">Getting started</a><ul>
<li><a href="#slack-credential">Slack Credential</a></li>
<li><a href="#slack-bot-credential">Slack-Bot Credential</a></li>
<li><a href="#slack-messages">Slack Messages</a></li>
<li><a href="#slack-message-with-attachment">Slack Message with Attachment</a></li>
<li><a href="#slack-delete-all">Slack Delete All</a></li>
</ul>
</li>
</ul>
<h2 id="getting-started">Getting started</h2>
<p>To get started you need a Slack account and you can create one <a href="https://slack.com/create">here</a>. Once you create the slack team you can further create an application and a bot within your team. This will allow you to get two API keys that you need for your tool. To access both these API tokens <a href="https://api.slack.com">go to</a>. On the features, tab should be an option called OAuth &amp; Permissions and should provide you with <em>OAuth Access Token</em> and <em>Bot User OAuth Access Token</em>. Note that the bot can only post in those channels where you have given it permission. If you add the bot to multiple channels you can specify the channel when posting messages or files.</p>
<p>Just browse to the folder and perform <code>python slack_addon.py -h</code>:</p>
<pre><code>usage: slack_addon.py [-h] { ,smain,sbot,botupdate,botfile,slackdelete} ...

Slack API Addon

positional arguments:
  { ,smain,sbot,botupdate,botfile,slackdelete}
                        -------------------------------------------
                        -----Choose from Slack Tools Below-----
                        -------------------------------------------
    smain               Allows you to save your Slack Main API Token
    sbot                Allows you to save your Slack Bot API Token
    botupdate           Allows your bot to post messages on slack channel
    botfile             Allows you to post a file along with comments
    slackdelete         Allows users to delete all messages and files posted
                        by bots

optional arguments:
  -h, --help            show this help message and exit
</code></pre>

<h3 id="slack-credential">Slack Credential</h3>
<p>This tool allows the user to save slack credential(OAuth Access Token) into <code>users/.config/slackkey</code> making sure that they are user specific and are not shared on a system resource or location. It uses a getpass implementation and writes the password as a CSV and the other tools first try to read this and if not present asks for your password.</p>
<pre><code>usage: slack_addon.py smain [-h]

optional arguments:
  -h, --help  show this help message and exit
</code></pre>

<h3 id="slack-bot-credential">Slack-Bot Credential</h3>
<p>This tool allows the user to save slack bot credential(Bot User OAuth Access Token) into <code>users/.config/slackkey</code> making sure that they are user specific and are not shared on a system resource or location. It uses a getpass implementation and writes the password as a CSV and the other tools first try to read this and if not present asks for your password.</p>
<pre><code>usage: slack_addon.py sbot [-h]

optional arguments:
  -h, --help  show this help message and exit
</code></pre>

<h3 id="slack-messages">Slack Messages</h3>
<p>The slack messaging application is the primary tool which uses the <a href="https://pypi.python.org/pypi/slacker/0.9.60">slacker</a> backend and allows the user to send messages as a bot to specific channel(s). The messaging service reads your Bot User OAuth Access Token and allows you to send messages to all channels where the bot has been added or has permission to post. If you do not specify the channel the bot posts to the general channel.</p>
<pre><code>usage: slack_addon.py botupdate [-h] [--channel CHANNEL] [--msg MSG]

optional arguments:
  -h, --help         show this help message and exit
  --channel CHANNEL  Slack Bot update channel
  --msg MSG          Slack Bot update message
</code></pre>

<p>Incase you have already saved your password sending a message is as simple as </p>
<pre><code>python slack_addon.py --channel &quot;#general&quot; --message &quot;Hello world&quot;
</code></pre>

<p>The application can simple be added by a call command with any process running as a system and the bot can update you about system processes, about usage, about application status and file sizes. The possibilities are endless.</p>
<h3 id="slack-message-with-attachment">Slack Message with Attachment</h3>
<p>One of the most interesting applications for me was to check that not only can I sent system and application updates but I could send snapshots or process outputs such as excel files and zip files and even error logs as needed. This tool allows the slack bot to not only send a message but only to include a file with the message. The filepath points to the location of the file, the fname allows you to name the file accordingly and the cmmt option is used to add a coment of message along with the file. The channel option allows you to choose a specific channel you want to post the message and as earlier it will post to general channel. </p>
<pre><code>usage: slack_addon.py botfile [-h] [--channel CHANNEL] [--filepath FILEPATH]
                              [--cmmt CMMT] [--fname FNAME]

optional arguments:
  -h, --help           show this help message and exit
  --channel CHANNEL    Slack Bot channel
  --filepath FILEPATH  Slack Bot file path to upload
  --cmmt CMMT          Slack Bot file comment
  --fname FNAME        Slack Bot filename
</code></pre>

<p>Incase you have already saved your password a setup would be simply</p>
<pre><code>python slack_addon.py --channel &quot;#general&quot; --filepath &quot;/users/myfilepath.csv&quot; --cmmt &quot;Check the error logs&quot; --fname &quot;errorlog&quot;
</code></pre>

<h3 id="slack-delete-all">Slack Delete All</h3>
<p>One of the current non existent methods within Slack is the capability to delete all messages. This is built using a backend <a href="https://pypi.python.org/pypi/slack-cleaner/0.3.0">cli tool</a> to delete all messages and files if needed and I integrated that in the current CLI. The current tool is primarily related to deleting all messages and files for cleaning up a channel as needed. The tool uses your main slack channel API token and uses that to delete all messages from all users but can be modified to delete messages from specific bots if needed. For now the tool deletes all messages and files in the general channel.</p>
<pre><code>usage: slack_addon.py slackdelete [-h]

optional arguments:
  -h, --help  show this help message and exit
</code></pre>

<p>to use this tool simple type <code>python slack_addon.py slackdelete</code></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../clip_ship_planet_cli/" title="Clip Ship Planet CLI" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Clip Ship Planet CLI
              </span>
            </div>
          </a>
        
        
          <a href="../planet_pipeline_gui/" title="Planet Bulk Data Downloader GUI" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Planet Bulk Data Downloader GUI
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 - 2018 Samapriya Roy
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/samapriya" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/samapriyaroy" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/in/samapriya" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-1d6ee6ee6c.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>